<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #667eea;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }
        
        .chart-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #eee;
        }
        
        .chart-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
            color: #333;
        }
        
        #status {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid #2196f3;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ  Ù„ÙˆØ­Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</h1>
            <p>ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ù† Ù…Ù„ÙØ§Øª Excel</p>
        </div>
        
        <div id="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">18,060</div>
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">274</div>
                <div class="stat-label">Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">25</div>
                <div class="stat-label">ÙØ¦Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</div>
            </div>
        </div>
        
        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</div>
                <canvas id="regionsChart" style="max-height: 300px;"></canvas>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</div>
                <canvas id="typesChart" style="max-height: 300px;"></canvas>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ÙØ¦Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</div>
                <canvas id="categoriesChart" style="max-height: 300px;"></canvas>
            </div>
        </div>
    </div>

    <script>
        // Data from Python analysis
        const analysisData = {
  "summary": {
    "total_properties": 18060,
    "unique_regions": 274,
    "unique_categories": 25,
    "analysis_date": "2025-07-26 07:59:34"
  },
  "regional_data": [
    {
      "region": "Ø³ØªÙŠÙ„Ø§ Ù‡Ø§ÙŠØªØ³ Ø§Ù„Ø³Ø§Ø­Ù„",
      "count": 2283
    },
    {
      "region": "Ø§Ù…ÙˆØ§Ø¬",
      "count": 1250
    },
    {
      "region": "Ø¨ÙŠØª Ø§Ù„ÙˆØ·Ù†",
      "count": 1060
    },
    {
      "region": "Ù„Ø§Ø³Ø±ÙŠÙ†Ø§ Ø§Ù„Ø³Ø§Ø­Ù„",
      "count": 596
    },
    {
      "region": "Ù…ÙŠÙÙŠØ¯Ø§",
      "count": 541
    },
    {
      "region": "Ø§ÙƒØªÙˆØ¨Ø±",
      "count": 442
    },
    {
      "region": "Ù‡Ø§ÙŠØ¯ Ø¨Ø§Ø±Ùƒ",
      "count": 421
    },
    {
      "region": "Ø§Ù„Ù„ÙˆØªØ³",
      "count": 356
    },
    {
      "region": "Ø§Ù„Ø§Ù†Ø¯Ù„Ø³",
      "count": 345
    },
    {
      "region": "Ø¨ÙˆØ±ØªÙˆ Ù†ÙŠÙˆ ÙƒØ§ÙŠØ±Ùˆ Ù…ÙˆÙ„",
      "count": 340
    }
  ],
  "property_types": [
    {
      "type": "For Sale",
      "count": 15921
    },
    {
      "type": "For Rent",
      "count": 1844
    },
    {
      "type": "ØºÙŠØ± Ù…Ø­Ø¯Ø¯",
      "count": 295
    }
  ],
  "categories": [
    {
      "category": "Ø§Ù„Ø³Ø§Ø­Ù„ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ",
      "count": 6243
    },
    {
      "category": "Ø§Ø±Ø§Ø¶ÙŠ ÙˆÙÙŠÙ„Ø§Øª Ø§Ù‡Ø§Ù„ÙŠ",
      "count": 1872
    },
    {
      "category": "Ø´Ù‚Ù‚ ÙƒÙ…Ø¨ÙˆÙ†Ø¯",
      "count": 1580
    },
    {
      "category": "Ø§Ù„Ø¹ÙŠÙ† Ø§Ù„Ø³Ø®Ù†Ø©",
      "count": 1263
    },
    {
      "category": "Ø´Ù‚Ù‚ Ø§Ù‡Ø§Ù„ÙŠ",
      "count": 1220
    },
    {
      "category": "ÙÙŠÙ„Ø§Øª Ù…Ø³ØªÙ‚Ù„Ø©",
      "count": 876
    },
    {
      "category": "Ù…Ø­Ù„Ø§Øª ÙˆØ§Ø¯Ø§Ø±ÙŠ",
      "count": 841
    },
    {
      "category": "Ù…Ù†Ø§Ø·Ù‚ Ù…Ø®ØªÙ„ÙØ©",
      "count": 780
    },
    {
      "category": "Ø¯ÙˆØ¨Ù„ÙƒØ³ Ø§Ù‡Ø§Ù„ÙŠ",
      "count": 436
    },
    {
      "category": "Ø´Ù‚Ù‚ ÙƒÙ…Ø¨ÙˆÙ†Ø¯ Ø§Ù„ØªØ¬Ù…Ø¹",
      "count": 414
    }
  ]
};
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - creating charts...');
            console.log('Analysis data:', analysisData);
            
            document.getElementById('status').textContent = 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ - Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©...';
            
            // Colors palette
            const colors = [
                '#667eea', '#764ba2', '#f093fb', '#f5576c',
                '#4facfe', '#00f2fe', '#43e97b', '#38f9d7',
                '#ffecd2', '#fcb69f', '#a8edea', '#fed6e3'
            ];
            
            try {
                // Regions Chart
                if (analysisData.regional_data && analysisData.regional_data.length > 0) {
                    console.log('Creating regions chart...');
                    const regionsCtx = document.getElementById('regionsChart').getContext('2d');
                    new Chart(regionsCtx, {
                        type: 'bar',
                        data: {
                            labels: analysisData.regional_data.map(item => item.region),
                            datasets: [{
                                label: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª',
                                data: analysisData.regional_data.map(item => item.count),
                                backgroundColor: colors.slice(0, analysisData.regional_data.length),
                                borderWidth: 2,
                                borderRadius: 5
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                    console.log('Regions chart created');
                } else {
                    console.log('No regional data available');
                }
                
                // Property Types Chart
                if (analysisData.property_types && analysisData.property_types.length > 0) {
                    console.log('Creating types chart...');
                    const typesCtx = document.getElementById('typesChart').getContext('2d');
                    new Chart(typesCtx, {
                        type: 'doughnut',
                        data: {
                            labels: analysisData.property_types.map(item => item.type),
                            datasets: [{
                                data: analysisData.property_types.map(item => item.count),
                                backgroundColor: colors.slice(0, analysisData.property_types.length),
                                borderWidth: 3,
                                borderColor: '#fff'
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { position: 'bottom' }
                            }
                        }
                    });
                    console.log('Types chart created');
                } else {
                    console.log('No property types data available');
                }
                
                // Categories Chart
                if (analysisData.categories && analysisData.categories.length > 0) {
                    console.log('Creating categories chart...');
                    const categoriesCtx = document.getElementById('categoriesChart').getContext('2d');
                    new Chart(categoriesCtx, {
                        type: 'pie',
                        data: {
                            labels: analysisData.categories.map(item => item.category),
                            datasets: [{
                                data: analysisData.categories.map(item => item.count),
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { position: 'right' }
                            }
                        }
                    });
                    console.log('Categories chart created');
                } else {
                    console.log('No categories data available');
                }
                
                document.getElementById('status').textContent = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!';
                
            } catch (error) {
                console.error('Error creating charts:', error);
                document.getElementById('status').textContent = 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©: ' + error.message;
            }
        });
    </script>
</body>
</html>